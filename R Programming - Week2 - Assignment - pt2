#Write a function that reads a directory full of files and reports the number 
#of completely observed cases in each data file. The function should return a 
#data frame where the first column is the name of the file and the second column
#is the number of complete cases. A prototype of this function follows

complete <- function(directory = getwd(), index = 1:332){
    library(plyr)
    temp = list.files(path = directory, pattern= ".csv")
    dat_csv = ldply(temp, read.csv)
    dat_clean <- dat_csv[complete.cases(dat_csv),]
    dat_use <- subset(dat_clean, ID %in% index)
    dat_complete <- count(dat_use, "ID")
    cols <- c("id","nobs")
    colnames(dat_complete) <- cols
    dat_complete
}

> complete(getwd(),40:45)
  id nobs
1 40   21
2 41  227
3 42   60
4 43   74
5 44  283
6 45  424
